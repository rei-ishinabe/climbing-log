<div class="container mt-3 px-2">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8">
      <%= simple_form_for @area do |f| %>
        <%= f.input :area_name, label: false, placeholder: 'エリア名' %>
        <%= f.input :area_name_katakana, label: false, placeholder: 'エリア名(カタカナ)' %>
        <%= f.input :region, label: false, prompt: '地域を選択',
          collection: [
            ['北海道', '北海道'],
            ['東北', '東北'],
            ['関東', '関東'],
            ['甲信越', '甲信越'],
            ['北陸', '北陸'],
            ['東海', '東海'],
            ['関西', '関西'],
            ['中国', '中国'],
            ['四国', '四国'],
            ['九州', '九州']
          ] %>
        <%= f.input :prefecture, label: false, prompt: '都道府県を選択',
          collection: []
         %>
<!--         <%= f.input :latitude, label: false, placeholder: '緯度' %>
        <%= f.input :longitude, label: false, placeholder: '経度' %> -->
        <%= f.submit '登録', class:'btn btn-primary btn-block mb-3' %>
      <% end %>
      <% unless @area.id.nil? %>
        <%= link_to 'エリアを削除', area_path(@area), method: :delete, data: {confirm: "本当に削除しますか?"}, class:'btn btn-outline-warning btn-block mb-3' %>
      <% end %>
    </div>
  </div>
</div>

<script>
  const region = document.getElementById("area_region");
  const prefecture = document.getElementById("area_prefecture");
  region.addEventListener("change",(event)=> {
    const value = region.value;
    if (value === "" ) {
      prefecture.innerHTML = "";
    } else if (value === '北海道') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend',"<option value='北海道'>北海道</option>");
    } else if (value === '東北') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='青森'>青森</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='岩手'>岩手</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='秋田'>秋田</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='宮城'>宮城</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='山形'>山形</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='福島'>福島</option>");
    } else if (value === '関東') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='茨城'>茨城</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='栃木'>栃木</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='群馬'>群馬</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='埼玉'>埼玉</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='千葉'>千葉</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='東京'>東京</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='神奈川'>神奈川</option>");
    } else if (value === '甲信越') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='山梨'>山梨</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='長野'>長野</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='新潟'>新潟</option>");
    } else if (value === '北陸') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='富山'>富山</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='石川'>石川</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='福井'>福井</option>");
    } else if (value === '東海') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='静岡'>静岡</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='愛知'>愛知</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='岐阜'>岐阜</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='三重'>三重</option>");
    } else if (value === '関西') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='滋賀'>滋賀</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='京都'>京都</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='大阪'>大阪</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='兵庫'>兵庫</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='奈良'>奈良</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='和歌山'>和歌山</option>");
    } else if (value === '中国') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='鳥取'>鳥取</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='島根'>島根</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='岡山'>岡山</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='広島'>広島</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='山口'>山口</option>");
    } else if (value === '四国') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='香川'>香川</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='愛媛'>愛媛</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='徳島'>徳島</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='高知'>高知</option>");
    } else if (value === '九州') {
      prefecture.innerHTML = "";
      prefecture.insertAdjacentHTML('beforeend','<option>都道府県を選択</option>');
      prefecture.insertAdjacentHTML('beforeend',"<option value='福岡'>福岡</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='佐賀'>佐賀</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='長崎'>長崎</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='熊本'>熊本</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='大分'>大分</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='宮崎'>宮崎</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='鹿児島'>鹿児島</option>");
      prefecture.insertAdjacentHTML('beforeend',"<option value='沖縄'>沖縄</option>");
    }
  });
</script>
